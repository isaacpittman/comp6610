<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Comp 6610 Website</title>

  <!-- Bootstrap core CSS -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Custom styles for this template -->
  <link href="../starter-template.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    </head>

    <body>

      <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../index.html">Comp 6610</a>
          </div>
          <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="../index.html">Home</a></li>
              <li><a href="../about.html">About</a></li>
              <li><a href="Assignment2.html">Assignment 2</a></li>
              <li><a href="../Assignment3/Assignment3.html">Assignment 3</a></li>
              <li><a href="../Assignment4/Assignment4.html">Assignment 4</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </nav>

      <div class="container">

        <div class="starter-template">
          <h1>Assignment 2 Documentation</h1><br>
          <p align = "center" class="lead">
            First, we tried connecting to eduroam by installing network-manager. After configuring eduroam in network-manager, we restarted. But, when the Pi restarted, it prompted for a password. The default password was accepted (no "Invalid password" error), yet the password prompt reappeared immediately, so we were unable to access the Pi. 
            <br>
          </p>

          <figure>
            <img src= "https://cloud.githubusercontent.com/assets/16869723/19295177/be34d424-9000-11e6-9cff-311c6cfd4e22.jpg" alt= "Gathering around the Pi" style="width:400px;"> 
            <figcaption> <i><b>Figure 1.</b> Gathering around the Pi while it was installing Network Software.</i></figcaption>
          </figure><br><br>

          <figure>
            <img src= "https://cloud.githubusercontent.com/assets/16869723/19295178/be5b41ae-9000-11e6-81ed-d478f6f3b35c.jpg" alt= "Explaining how resistors work." style="width:400px;">
            <figcaption> <i><b>Figure 2.</b> Brian explains how the resistors will work with the LEDs.</i></figcaption>
          </figure><br>

          <p align = "center" class="lead">
            We decided to reformat the Pi and work on the lightshow. Since we all had our own Pi units, we worked on getting the lightshow to work indivdually. As we came across our own findings and issues, we collaborated to figure them out. 
          </p>
          <p align = "center" class="lead">
            After looking at the references, it was decided we were going to implement the <b>lightshowpi</b> project. Following the startup guide for the lightshowpi, we were able to get the syncronized light show working properly. The first thing that had to be done was clone the git hub repository of lightshowpi and grab the stable branch to the Pi:
          </p>


          <pre align="left" class = "prettypint lang-bash prettyprinted">
            <span class="com"># Clone the repository to /home/pi/lightshowpi</span>
            <span>cd ~ </span>
            <span>git clone https://togiles@bitbucket.org/togiles/lightshowpi.git </span>
            <br>
            <span class="com"># Grab the stable branch </span>
            <span>cd lightshowpi </span>
            <span>git fetch && git checkout stable </span>
          </pre><br>

          <p align = "center" class="lead">
            From there we installed the installed the software with the provided install script and then rebooted the Pi to complete installation:
          </p>

          <pre align="left" class = "prettypint lang-bash prettyprinted">
            <span>cd /home/pi/lightshowpi</span>
            <span>sudo ./install.sh</span>
            <span>sudo reboot</span>
          </pre><br>

          <p align = "center" class="lead">
            Since we only had a couple of LEDs available, we had to alter the code to work with only 3 GPIO pins. This required modification of the configuration file located at: <b>lightshowpi/config/defaults.cfg</b>. Since we did not want to alter the default configuration file, we created a new one (duplicate of the default.cfg): <b>lights.cfg</b> placed in the <b>/home/pi/</b> folder. This file is used upon startup of the lightshowpi software, instead of the default configuration file. Inside of the lights.cfg file we changed the following:
          </p>

          <pre align="left" class = "prettypint lang-bash prettyprinted">
            <span class="com"># default.cfg</span>
            <span class="com"># Using 8 pins of GPIO on the pi:</span>
            <span>gpio_pins = 0,1,2,3,4,5,6,7</span>

            <span class="com"># lights.cfg</span>
            <span class="com"># Using 3 pins of GPIO on the pi:</span>
            <span>gpio_pins = 0,1,2</span>
          </pre>

          <p align = "center" class="lead">
            With this alteration we began to wire up the LEDs to the respective GPIO pins (0,1,2) on the Pi. Figure 3 is a full pinout diagram of the Raspberry Pi B+ v2 model. Figure 4 shows the breadboard with the 3 LEDs wired to the Pi, with the leftmost LED being GPIO pin 0, and the rightmost being GPIO pin 2. Each LED is wired in series with 100 ohm 1/4 watt resistor, resulting in a 50 milliamp maximum draw.
          </p>

          <figure>
            <img src= "" alt= "Raspberry Pi B+ v2 Pinout Diagram" style="width:400px;">
            <figcaption> <i><b>Figure 3.</b> Raspberry Pi B+ v2 Pinout Diagram.</i></figcaption>
          </figure><br>

          <figure>
            <img src= "" alt= "LEDs wired to the Raspberry Pi GPIO pins." style="width:400px;">
            <figcaption> <i><b>Figure 4.</b> LEDs wired to the Raspberry Pi GPIO pins, leftmost LED being GPIO 0 and rightmost LED being GPIO 2.</i></figcaption>
          </figure><br>

          <p align = "center" class="lead">
            We tested each LED to ensure it worked by running the hardware testing script provided in lightshowpi. This will flash each LED twice, rotating through the provided GPIO pins in the configuration file, cyclically.
          </p>

          <pre align="left" class = "prettypint lang-bash prettyprinted">
            <span>cd ~/lightshowpi/</span>
            <span>sudo python py/hardware_controller.py --state=flash</span>
          </pre><br>

          <figure>
            <img src= "" alt= "LED flashing test." style="width:400px;">
            <figcaption> <i><b>Figure 5.</b> LED flashing test.</i></figcaption>
          </figure><br>

          <p align = "center" class="lead">
            Figure 5 shows each LED flashing, showing that they work. From here, it was decided the Pi was ready to play a song and sycronize the LEDS to it. We placed a song on the Pi, and played it using the following command:
          </p>

          <pre align="left" class = "prettypint lang-bash prettyprinted">
            <span>cd ~/lightshowpi/</span>
            <span>sudo python py/synchronized_lights.py --file=/home/pi/lightshowpi/music/sample/ovenrake_deck-the-halls.mp3</span>
          </pre><br>

          <p align = "center" class="lead">
            The following video shows the syncronized LED show working on our Pi unit.
          </p>

          <!-- Embed youtube video here -->

        </div>

      </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>
  </body>
  </html>

